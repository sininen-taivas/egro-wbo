(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{328:function(e,t,a){e.exports=a(734)},551:function(e,t,a){},734:function(e,t,a){"use strict";a.r(t);a(329);var n=a(0),r=a.n(n),l=a(5),c=a.n(l),o=(a(735),a(323)),i=(a(549),a(232)),u=(a(551),a(552),a(83)),s=(a(90),a(33)),m=a(82),d=a.n(m),p=(a(554),a(138)),E=a(131),v=(a(280),a(132)),f=(a(281),a(52)),g=(a(156),a(95)),h=(a(282),a(7)),k=a(64),b=(a(559),a(325)),w=a(84),O=a.n(w),y=(a(583),a(324)),S=function(e){var t=Object(n.useState)(!1),a=Object(k.a)(t,2),l=a[0],c=a[1],o=e.value,i=e.buttonTitle,u=void 0===i?"Set value":i,m=e.buttonType,d=void 0===m?"default":m,p=e.buttonTypeOk,E=void 0===p?"dashed":p,v=e.modalTitle,f=void 0===v?"Enter new value":v,h=e.onOk,b=void 0===h?function(){}:h,w=e.onCancel,O=void 0===w?function(){}:w,S=o||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{type:o?E:d,onClick:function(){return c(!0)}},u),r.a.createElement(y.a,{title:f,visible:l,onOk:function(){b(S),c(!1)},onCancel:function(){O(),c(!1)}},r.a.createElement(g.a,{placeholder:"Enter value",defaultValue:o,onChange:function(e){var t=e.target.value;return S=t},allowClear:!0})))},j=function(e){var t=e.title,a=e.children,l=e.prom,c=Object(n.useState)(!1),o=Object(k.a)(c,2),i=o[0],u=o[1];return r.a.createElement(v.a,null,r.a.createElement(f.a,{span:2},t||""),r.a.createElement(f.a,{span:1},r.a.createElement(s.a,{type:"link",icon:"reload",loading:i,onClick:function(){u(!0),l&&l().then((function(){u(!1)}))}})),r.a.createElement(f.a,{span:8},a))},x=(a(640),a(110));var I=x.a.create({name:"payment_form"})((function(e){var t=e.form,a=t.getFieldDecorator;return r.a.createElement(x.a,{onSubmit:function(e){e.preventDefault(),t.validateFields((function(e,t){e||console.log("Received values of form: ",t)}))}},r.a.createElement("p",{style:{color:"red"}},"Not working now (in development)"),r.a.createElement(x.a.Item,null,a("wallet",{rules:[{required:!0,message:"Please input wallet address!"}]})(r.a.createElement(g.a,{prefix:r.a.createElement(h.a,{type:"wallet"}),placeholder:"Wallet address"}))),r.a.createElement(x.a.Item,null,a("amount",{rules:[{required:!0,message:"Please input amount"},{validator:function(e,t,a){t&&t<1e5?a("Minimal ERG value not met. Value must more then 100 000"):a()}}]})(r.a.createElement(g.a,{prefix:r.a.createElement(h.a,{type:"pay-circle"}),placeholder:"Amount"}))),r.a.createElement(x.a.Item,null,r.a.createElement(s.a,{htmlType:"submit"},"Send")))})),T=a(321),C=a.n(T).a.create({headers:{}});C.interceptors.request.use(function(){var e=Object(E.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("main--serveraddr"),t.baseURL=a||"/",t.headers.api_key||(n=localStorage.getItem("main--k"))&&(t.headers.api_key=n),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var F=C,U=b.a.Title;function W(e){var t=Object(n.useState)(localStorage.getItem("main--serveraddr")||""),a=Object(k.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(localStorage.getItem("main--k")||""),i=Object(k.a)(o,2),m=i[0],b=i[1],w=Object(n.useState)({}),y=Object(k.a)(w,2),x=y[0],T=y[1],C=Object(n.useState)({}),W=Object(k.a)(C,2),B=W[0],A=W[1],P=Object(n.useState)([]),R=Object(k.a)(P,2),_=R[0],q=R[1],L=function(){return F.get("/wallet/status").then((function(e){var t=e.data;return A(t),t}))};return Object(n.useEffect)((function(){O()(l)||O()(m)||L()}),[l,m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{gutter:8,style:{marginBottom:"8px"}},r.a.createElement(f.a,{span:8},r.a.createElement(g.a,{placeholder:"Wallet node",addonAfter:r.a.createElement(h.a,{type:"cloud-server"}),value:l,onChange:function(e){var t=e.target.value;c(t),localStorage.setItem("main--serveraddr",t)}})),r.a.createElement(f.a,{span:4},r.a.createElement(S,{buttonTitle:"Auth",modalTitle:"Enter api_key",value:m,onOk:function(e){localStorage.setItem("main--k",e),b(e)}}))),O()(l)||O()(m)?r.a.createElement(u.a,{description:"Enter server data"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{level:3},"Wallet",!1===B.isUnlocked&&r.a.createElement(S,{buttonTitle:"Unlock",buttonType:"link",onOk:function(){var e=Object(E.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/wallet/unlock",{pass:t});case 3:return e.next=5,L();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.response,p.a.error("Unlock error: ".concat(a.data.detail));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),!0===B.isUnlocked&&r.a.createElement(s.a,{type:"link",onClick:Object(E.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/wallet/lock");case 3:return e.next=5,L();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t=e.t0.response,p.a.error("Lock error: ".concat(t.data.detail));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))},"Lock")),r.a.createElement(j,{title:"Status",prom:L},O()(B)?"no data":r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{span:8},r.a.createElement("strong",null,"is initialized"),":"," ",B.isInitialized.toString()),r.a.createElement(f.a,{span:8},r.a.createElement("strong",null,"is unlocked"),":"," ",B.isUnlocked.toString()))),B&&B.isUnlocked&&r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{title:"Addresses",prom:function(){return F.get("/wallet/addresses").then((function(e){var t=e.data;q(t)})).catch((function(e){var t=e.response;p.a.error(t.data.detail)}))}},O()(_)?"no data":_.map((function(e){return r.a.createElement("div",{key:e.toString()},e)}))),r.a.createElement(j,{title:"Balances",prom:function(){return F.get("/wallet/balances").then((function(e){var t=e.data;T(t)})).catch((function(e){var t=e.response;p.a.error(t.data.detail)}))}},O()(x)?"no data":r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{span:8},r.a.createElement("strong",null,"height"),":"," ",x.height," "),r.a.createElement(f.a,{span:8},r.a.createElement("strong",null,"balance"),":"," ",x.balance))),r.a.createElement(U,{level:3},"Payment"),r.a.createElement(v.a,null,r.a.createElement(f.a,{span:8},r.a.createElement(I,null))))))}var B=i.a.Content;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){return r.a.createElement(i.a,{className:"app"},r.a.createElement(o.a,{title:"ERGO Wallet BackOffice"}),r.a.createElement(B,{style:{background:"white",paddingTop:"24px"}},r.a.createElement(W,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[328,1,2]]]);
//# sourceMappingURL=main.137154c6.chunk.js.map