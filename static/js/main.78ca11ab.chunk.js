(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{328:function(e,t,a){e.exports=a(734)},551:function(e,t,a){},734:function(e,t,a){"use strict";a.r(t);a(329);var n=a(0),r=a.n(n),l=a(5),c=a.n(l),o=(a(735),a(323)),u=(a(549),a(232)),i=(a(551),a(552),a(83)),s=(a(90),a(33)),m=a(82),d=a.n(m),p=(a(554),a(138)),E=a(131),f=(a(280),a(132)),v=(a(281),a(52)),g=(a(156),a(95)),h=(a(282),a(7)),k=a(64),b=(a(559),a(325)),w=a(84),O=a.n(w),y="main--serveraddr",S=(a(583),a(324)),j=function(e){var t=Object(n.useState)(!1),a=Object(k.a)(t,2),l=a[0],c=a[1],o=e.value,u=e.buttonTitle,i=void 0===u?"Set value":u,m=e.buttonType,d=void 0===m?"default":m,p=e.buttonTypeOk,E=void 0===p?"dashed":p,f=e.modalTitle,v=void 0===f?"Enter new value":f,h=e.onOk,b=void 0===h?function(){}:h,w=e.onCancel,O=void 0===w?function(){}:w,y=o||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{type:o?E:d,onClick:function(){return c(!0)}},i),r.a.createElement(S.a,{title:v,visible:l,onOk:function(){b(y),c(!1)},onCancel:function(){O(),c(!1)}},r.a.createElement(g.a,{placeholder:"Enter value",defaultValue:o,onChange:function(e){var t=e.target.value;return y=t},allowClear:!0})))},x=function(e){var t=e.title,a=e.children,l=e.prom,c=Object(n.useState)(!1),o=Object(k.a)(c,2),u=o[0],i=o[1];return r.a.createElement(f.a,null,r.a.createElement(v.a,{span:2},t||""),r.a.createElement(v.a,{span:1},r.a.createElement(s.a,{type:"link",icon:"reload",loading:u,onClick:function(){i(!0),l&&l().then((function(){i(!1)}))}})),r.a.createElement(v.a,{span:8},a))},T=(a(640),a(110));var I=T.a.create({name:"payment_form"})((function(e){var t=e.form,a=t.getFieldDecorator;return r.a.createElement(T.a,{onSubmit:function(e){e.preventDefault(),t.validateFields((function(e,t){e||console.log("Received values of form: ",t)}))}},r.a.createElement("p",{style:{color:"red"}},"Now work (in development)"),r.a.createElement(T.a.Item,null,a("wallet",{rules:[{required:!0,message:"Please input wallet address!"}]})(r.a.createElement(g.a,{prefix:r.a.createElement(h.a,{type:"wallet"}),placeholder:"Wallet address"}))),r.a.createElement(T.a.Item,null,a("amount",{rules:[{required:!0,message:"Please input amount"},{validator:function(e,t,a){t&&t<1e5?a("Minimal ERG value not met. Value must more then 100 000"):a()}}]})(r.a.createElement(g.a,{prefix:r.a.createElement(h.a,{type:"pay-circle"}),placeholder:"Amount"}))),r.a.createElement(T.a.Item,null,r.a.createElement(s.a,{htmlType:"submit"},"Send")))})),C=a(321),F=a.n(C).a.create({headers:{}});F.interceptors.request.use(function(){var e=Object(E.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem(y),t.baseURL=a||"/",t.headers.api_key||(n=localStorage.getItem("main--k"))&&(t.headers.api_key=n),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var U=F,W=b.a.Title;function B(e){var t=Object(n.useState)(localStorage.getItem(y)||""),a=Object(k.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(localStorage.getItem("main--k")||""),u=Object(k.a)(o,2),m=u[0],b=u[1],w=Object(n.useState)({}),S=Object(k.a)(w,2),T=S[0],C=S[1],F=Object(n.useState)({}),B=Object(k.a)(F,2),A=B[0],P=B[1],R=Object(n.useState)([]),_=Object(k.a)(R,2),q=_[0],L=_[1],z=function(){return U.get("/wallet/status").then((function(e){var t=e.data;return P(t),t}))};return Object(n.useEffect)((function(){O()(l)||O()(m)||z()}),[l,m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{gutter:8,style:{marginBottom:"8px"}},r.a.createElement(v.a,{span:8},r.a.createElement(g.a,{placeholder:"Wallet node",addonAfter:r.a.createElement(h.a,{type:"cloud-server"}),value:l,onChange:function(e){var t=e.target.value;c(t),t?localStorage.setItem(y,t):delete localStorage[y]}})),r.a.createElement(v.a,{span:4},r.a.createElement(j,{buttonTitle:"Auth",modalTitle:"Enter api_key",value:m,onOk:function(e){b(e)}}))),O()(l)||O()(m)?r.a.createElement(i.a,{description:"Enter server data"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{level:3},"Wallet",!1===A.isUnlocked&&r.a.createElement(j,{buttonTitle:"Unlock",buttonType:"link",onOk:function(){var e=Object(E.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.post("/wallet/unlock",{pass:t});case 3:return e.next=5,z();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.response,p.a.error("Unlock error: ".concat(a.data.detail));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}),!0===A.isUnlocked&&r.a.createElement(s.a,{type:"link",onClick:Object(E.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.get("/wallet/lock");case 3:return e.next=5,z();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t=e.t0.response,p.a.error("Lock error: ".concat(t.data.detail));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))},"Lock")),r.a.createElement(x,{title:"Status",prom:z},O()(A)?"no data":r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{span:8},r.a.createElement("strong",null,"is initialized"),":"," ",A.isInitialized.toString()),r.a.createElement(v.a,{span:8},r.a.createElement("strong",null,"is unlocked"),":"," ",A.isUnlocked.toString()))),A&&A.isUnlocked&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{title:"Addresses",prom:function(){return U.get("/wallet/addresses").then((function(e){var t=e.data;L(t)})).catch((function(e){var t=e.response;p.a.error(t.data.detail)}))}},O()(q)?"no data":q.map((function(e){return r.a.createElement("div",{key:e.toString()},e)}))),r.a.createElement(x,{title:"Balances",prom:function(){return U.get("/wallet/balances").then((function(e){var t=e.data;C(t)})).catch((function(e){var t=e.response;p.a.error(t.data.detail)}))}},O()(T)?"no data":r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{span:8},r.a.createElement("strong",null,"height"),":"," ",T.height," "),r.a.createElement(v.a,{span:8},r.a.createElement("strong",null,"balance"),":"," ",T.balance))),r.a.createElement(W,{level:3},"Payment"),r.a.createElement(f.a,null,r.a.createElement(v.a,{span:8},r.a.createElement(I,null))))))}var A=u.a.Content;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){return r.a.createElement(u.a,{className:"app"},r.a.createElement(o.a,{title:"ERGO Wallet BackOffice"}),r.a.createElement(A,{style:{background:"white",paddingTop:"24px"}},r.a.createElement(B,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[328,1,2]]]);
//# sourceMappingURL=main.78ca11ab.chunk.js.map